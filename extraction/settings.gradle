/*
 * This settings file was auto generated by the Gradle buildInit task
 * by 'slemaguer' at '11/27/16 3:36 PM' with Gradle 2.13
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at https://docs.gradle.org/2.13/userguide/multi_project_builds.html
 */

/*
// To declare projects as part of a multi-project build use the 'include' method
include 'shared'
include 'api'
include 'services:webservice'
*/

rootProject.name = 'extraction'

import groovy.json.* // To load the JSON configuration file
import java.util.*


def eval_name = System.getProperty("eval_name")
def slurper = new JsonSlurper()
def config_file =  new File("../src/configuration/${eval_name}.json")
def config = slurper.parseText( config_file.text )

// Adapt pathes
DataFileFinder.project_path = new File(getClass().protectionDomain.codeSource.location.path).parent
if (config.data.project_dir) {
    DataFileFinder.project_path = config.data.project_dir
}


(new File(DataFileFinder.getFilePath(config.data.list_files))).eachLine{ basename ->
    include "$basename"
}

(new File(DataFileFinder.getFilePath("list_test"))).eachLine{ basename ->
    include "$basename"
}